<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Page Community</title>
    <link rel="stylesheet" th:href="@{/Mypage.css}">
    <link rel="stylesheet" th:href="@{/fragment.css}">
    <link rel="stylesheet" th:href="@{/Mypagecommunity.css}">
    <script src="https://kit.fontawesome.com/86c06c2025.js" crossorigin="anonymous"></script>
</head>
<body>
    <!-- ****************************** main ***************************************************** -->
    <div class="sectionAll">
        <div class="sectionBottom">

            <div class="sectionContent">
                <div class="contentTop">
                    <h3>
                        <span><a href="#" id="showPosts">작성글</a></span>
                        <span><a href="#" id="showComments">작성댓글</a></span>
                    </h3>
                    <button id="deleteButton" style="margin-top: 20px; display: block;">삭제하기</button>
                </div>

                <div id="postsContent">
                    <div class="selectAllContainer">
                        <input type="checkbox" id="selectAllPosts" style="height: 1rem; width: 5%;">
                        <label for="selectAllPosts">전체선택 <span id="postSelectedCount"></span></label>
                    </div>

                    <!-- 커뮤니티 글 목록 -->
                    <div th:each="community : ${communityList}" class="boxLayout">
    <div class="box">
        <input type="checkbox" style="height: 1rem; width: 5%;">
        <span th:text="${community.title}">제목</span>
        <span th:text="${community.content}">내용주저리</span>
        <span th:text="${#temporals.format(community.lastUpdate, 'yyyy-MM-dd HH:mm')}">작성일</span>
        <button class="editButton" th:data-cmid="${community.cmId}" th:data-title="${community.title}" th:data-content="${community.content}">수정</button>
        <button class="deleteButton" th:data-cmid="${community.cmId}">삭제</button>
    </div>
</div>

<!-- 수정 폼 (초기에는 숨겨져 있음) -->
<div id="editForm" style="display: none;">
    <form id="communityEditForm">
        <input type="hidden" id="editCmId" name="cmId">
        <input type="text" id="editTitle" name="title" required>
        <textarea id="editContent" name="content" required></textarea>
        <button type="submit">수정 완료</button>
        <button type="button" id="cancelEdit">취소</button>
    </form>
</div>

                    
                    
                    <!-- 페이징 버튼 -->
					<div id="pageBtn" th:if="${page.totalPage} > 1">
						<ul>
							<li th:classappend="${page.pageNo == 1} ? 'disabled'">
								<a class="page-link" href="javascript:void(0)" th:data-page="1">처음으로</a>
							</li>
							<li>
								<a class="page-link" href="javascript:void(0)" th:if="${page.pageNo>1}" th:data-page="${page.pageNo-1}">이전</a>
							</li>
							<li th:each="num : ${#numbers.sequence(page.startPage, page.endPage)}" th:classappend="${page.pageNo == num} ? 'active'">
								<a class="page-link" href="javascript:void(0)" } th:text="${num}" th:data-page="${num}"></a>
							</li>
							<li>
								<a class="page-link" href="javascript:void(0)" th:if="${page.pageNo < page.totalPage}" th:data-page="${page.pageNo+1}">다음</a>
							</li>
							<li th:classappend="${page.pageNo == page.totalPage} ? 'disabled'">
								<a class="page-link" href="javascript:void(0)" th:data-page="${page.totalPage}">마지막으로</a>
							</li>
						</ul>
					</div>
                </div>
                
                
                
                
                
                
                
                
                <!-- page 데이터 넘기기 -->
<form th:action="@{/admin/userList}" method="get" id="searchForm">
	<input type="hidden" id="page" name="page">
</form>

                
                
                
                
                <form th:action="@{/admin/userList}" method="get" id="searchForm">
			
			<input type="hidden" id="page" name="page">
			</form>
                
                <!-- 댓글 탭 -->
                <div id="commentsContent" style="display: none;">
                    <!-- 댓글 내용은 여기에 출력할 수 있습니다 -->
                </div>
            </div>
        </div>
    </div>

    <!-- ***************************************************** FOOTER ***************************************************** -->

   	<script th:src="@{/Mypage/Mypagecommunity.js}"></script>
    
    
</body>
</html>
